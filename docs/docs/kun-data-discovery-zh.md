# 数据发现

数据发现模块包括以下几个子模块：
- 元数据展示
- 数据质量
- 数据血缘

#### 元数据展示
用户可以通过管理数据源列表，来进行元数据的拉取、更新与展示。通过底层的元数据服务模块，元数据中的表名、列名、总行数、最近更新时间等都可以定时或按需更新。现阶段KUN支持的数据源类型包括如下：
- Hive
- MongoDB
- PostgreSQL
- Elasticsearch
- Arango

#### 数据质量
根据拉取的元数据，用户可以在表级别定义相关的测试用例，测试用例可选如下模式：
- 表级别的行数校验
- 列级别的非空校验
- 用户自定义SQL规则校验

创建或每次修改成功后，测试用例会即刻提交至调度系统进行执行，测试结果稍等片刻将出现在表详情页面和运维大屏模块(仅当测试用例失败时)。其他时间，所有的测试用例将在每天0点时统一调度执行一次，结果同样在上述页面可见。

与此同时，表详情页面还显示测试用例的描述、目的、更新用户、更新时间以及多达最近六次的测试结果供用户查阅。

#### 数据血缘
作为KUN的核心功能，数据血缘的展示和查询也是依托于数据发现的模块，并以表的详情页作为主入口。

在数据开发模块，用户可以创建数据开发的任务，基于任务里的SQL，KUN可以解析出数据表的上下游关系，进而构建出数据血缘关系图谱。有了数据血缘关系，用户可以准确的获取数据开发中每个数据表结点的上下游依赖关系，进而在合适的时间触发相应的数据任务。

------------

### 项目介绍
本模块基于SpringBoot框架开发，对外提供标准的RESTful API接口。项目的根目录位于*KUN/kun-data-discovery*，其中配置了gradle作为构建工具，依赖构建详情可参考*build.gradle*文件。

本地的构建步骤如下：
```bash
cd KUN/
./gradlew kun-data-discovery:bootJar
cd kun-data-discovery/
docker build -t kun-data-discovery:master -f Dockerfile .
```

本项目依赖以下的组件：
- PostgreSQL数据库
- 元数据服务(kun-metadata)
- 数据开发服务(kun-data-platform)
- 调度系统(kun-workflow)
- 安全中心(kun-security)
